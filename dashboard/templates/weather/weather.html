{% extends 'index.html' %}
{% load static %}

{% block body_block %}
    <div class="row">

        <!-- WEATHER HEADING -->
        <div class="col-sm-4">
            <h1 class="display-4">{{ weather_category }}</h1>
        </div>


        <!-- WEATHER ADD CITY FORM -->
        <div class="col-sm-4">


            <form method="POST">
                <!-- token for save post requests -->
                {% csrf_token %}

                <div class="input-group mb-3">

                    {{ city_form.name }}
                    <div class="input-group-append">
                        <button class="btn btn-primary" type="submit">Add City</button>
                    </div>
                </div>

            </form>
        </div>

        <!-- WEATHER LIST OF CITIES -->
        <div class="col-sm-4">

            {% for weather_context in city_list %}
                <div class="box">
                    <article class="media">
                        <div class="media-left">
                            <figure class="image is-50x50">
                                <img src="http://openweathermap.org/img/w/{{ weather_context.icon }}.png"
                                     alt="Image">
                            </figure>
                        </div>
                        <div class="media-content">
                            <div class="content">
                                <p>
                                    <span class="title">{{ weather_context.city }}</span>
                                    <br>
                                    <span class="subtitle">{{ weather_context.temperature }}{{ weather_context.temp_unit }}</span>
                                    <br> {{ weather_context.description }}
                                </p>
                            </div>
                        </div>
                    </article>
                </div>
            {% endfor %}
        </div>

    </div>
{% endblock %}